.env: line 78: months: command not found
==================================
Research System v8.7.0 - INTENT-AWARE UNIVERSAL RESEARCH
==================================
Topic: wildlife in yellowstone national park
Output: outputs

Enabled Features:
  ✓ All search providers (Tavily, Brave, Serper)
  ✓ Free APIs (Wikipedia, Wikidata, arXiv, etc.)
  ✓ LLM-based claims extraction & synthesis
  ✓ Cross-encoder reranking
  ✓ Iterative backfill (min 24 cards)
  ✓ MinHash deduplication
  ✓ SBERT clustering
  ✓ DuckDB aggregations
  ✓ AREX expansion for uncorroborated metrics
  ✓ Controversy detection
  ✓ Primary source connectors
  ✓ Article extraction
  ✓ Adaptive domain balancing (25-40% cap)
  ✓ Adaptive triangulation (25-35% threshold)
  ✓ Adaptive strict quality gates

v8.7.0 Intent-Aware Features:
  ✓ Three-stage hybrid intent classification
  ✓ Intent-based provider routing
  ✓ Intent-specific quality thresholds
  ✓ Geographic disambiguation
  ✓ New providers: Nominatim, Wikivoyage, OSMTags

v8.6.0 Adaptive Features:
  ✓ Supply-aware quality gates
  ✓ Adaptive report length (Brief/Standard/Deep)
  ✓ Evidence snippet repair chains
  ✓ Confidence scoring and reporting
  ✓ Last-mile backfill optimization
  ✓ Singleton whitelisting for authorities

Previous Improvements:
  ✓ Unified architecture & deduplication
  ✓ HTML cleaning & citation validation
  ✓ Triangulation consistency
  ✓ Pack-aware primary detection

Starting in 3 seconds...
INFO:research_system.orchestrator:Set global time budget: 1800s
INFO:research_system.intent.semantic:Initializing semantic classifier with model: sentence-transformers/all-MiniLM-L6-v2
INFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: mps
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
INFO:research_system.intent.semantic:Loaded 11 intent labels from research_system/intent/labels.yaml
INFO:research_system.intent.semantic:Prepared embeddings for 11 labels
INFO:research_system.intent.nli_fallback:Initializing NLI classifier with model: facebook/bart-large-mnli
Device set to use cpu
INFO:research_system.intent.classifier:Query 'wildlife in yellowstone national park...' classified as GENERIC (all stages failed)
INFO:research_system.orchestrator:Query classified as intent: generic
INFO:research_system.orchestrator:Intent thresholds: triangulation=0.25, sources=2
INFO:research_system.providers.intent_registry:Intent generic -> providers: ['wikipedia', 'wikidata', 'openalex', 'crossref', 'wayback']
INFO:research_system.orchestrator:Intent generic selected providers: ['wikipedia', 'wikidata', 'openalex', 'crossref', 'wayback']
INFO:research_system.orchestrator:Routing: categories=['general'], providers=['wikipedia', 'wikidata', 'openalex', 'crossref', 'unpaywall', 'wayback']
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/davidlevien/Agents/research_agent/research_system/__main__.py", line 3, in <module>
    main()
  File "/Users/davidlevien/Agents/research_agent/research_system/main.py", line 63, in main
    asyncio.run(asyncio.wait_for(arun(), timeout=wall_timeout))
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/tasks.py", line 489, in wait_for
    return fut.result()
           ^^^^^^^^^^^^
  File "/Users/davidlevien/Agents/research_agent/research_system/main.py", line 58, in arun
    await loop.run_in_executor(None, orchestrator.run)
  File "/opt/homebrew/Cellar/python@3.11/3.11.13/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/davidlevien/Agents/research_agent/research_system/orchestrator.py", line 977, in run
    decision.providers = merged_providers[:20]  # Limit total
    ^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __setattr__
dataclasses.FrozenInstanceError: cannot assign to field 'providers'
